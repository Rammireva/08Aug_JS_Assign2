<html>
<head><title>Advanced JS</title></head>
<body>
<form name="form" novalidate>
    Email: <input type="email" name="email" id="email">
    <input type="submit" id="submit" value="submit">
</form>
<p></p>
</body>
<script type="application/javascript">
    var res = function(email_val){
        var atpos = email_val.indexOf('@');
        var dotpos = email_val.lastIndexOf('.');
        console.log(atpos+' '+dotpos);
        if(atpos<1 || dotpos<atpos+2 || dotpos+2>=email_val.length){
            return false;
        }else{
            return true;
        }
    }
    var sub = document.getElementById('submit');
    sub.onclick = function(e){
        e.preventDefault();
        console.log('I a here');
        var email_val = document.getElementById('email').value;
        if(res(email_val) === true){
            document.getElementsByTagName('p')[0].innerHTML = 'Valid Email';
        }else{
            document.getElementsByTagName('p')[0].innerHTML = 'Invalid Email';
        }
    }

</script>
</html>